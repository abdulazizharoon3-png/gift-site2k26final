<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Year Surprise üéÅ</title>

<style>
html,body{
  margin:0;padding:0;width:100%;height:100%;
  background:#0c0c0c;color:white;
  font-family:Arial,sans-serif;
  overflow:hidden;text-align:center;
}
.screen{
  position:absolute;top:0;left:0;
  width:100%;height:100%;
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.screen.active{display:flex;}
button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:linear-gradient(45deg,#ff3cac,#784ba0,#2b86c5);
  color:white;
  cursor:pointer;
  margin-top:20px;
}
input{
  padding:12px;
  font-size:18px;
  border-radius:10px;
  border:2px solid white;
  margin-top:20px;
  text-align:center;
}
#giftIcon{
  font-size:60px;
  cursor:pointer;
  animation:bounce 1s infinite;
}
@keyframes bounce{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-20px);}
}
canvas{
  position:absolute;top:0;left:0;
  pointer-events:none;
}
.habibaBtn{
  position:absolute;
}
.emoji{
  position:absolute;
  font-size:50px;
  animation:fly 1s ease forwards;
}
@keyframes fly{
  from{transform:translateY(0);}
  to{transform:translateY(-120px);}
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<!-- START -->
<div id="start" class="screen active">
  <h2 id="startText"></h2>
  <button id="startBtn">Start</button>
</div>

<!-- NAME -->
<div id="name" class="screen">
  <h2 id="nameText"></h2>
  <input id="username" placeholder="Your Name">
  <button id="nameBtn">Next</button>
</div>

<!-- ARIBA VERIFY -->
<div id="aribaVerify" class="screen">
  <h2 id="verifyText"></h2>
  <input id="verifyInput">
  <button id="verifyBtn">Verify</button>
</div>

<!-- ARIBA FLOW -->
<div id="aribaFlow" class="screen">
  <h2 id="aribaMsg"></h2>
  <button id="aribaNext">Next</button>
</div>

<!-- HABIBA 1 -->
<div id="habiba1" class="screen">
  <h2 id="habiba1Text"></h2>
  <button id="habiba1Btn">Next</button>
</div>

<!-- HABIBA 2 -->
<div id="habiba2" class="screen">
  <h2 id="habiba2Text"></h2>
  <button id="habibaTpBtn" class="habibaBtn">Next</button>
</div>

<!-- HABIBA GIFT -->
<div id="habibaGift" class="screen">
  <div id="giftIcon">üéÅ</div>
</div>

<!-- GENERIC -->
<div id="generic" class="screen">
  <div id="giftIconGen">üéÅ</div>
  <h2 id="genericMsg"></h2>
</div>

<script>
/* ---------- UTIL ---------- */
function show(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function type(el,text,cb){
  el.innerHTML="";let i=0;
  let t=setInterval(()=>{
    el.innerHTML+=text[i++];
    if(i>=text.length){clearInterval(t);if(cb)cb();}
  },40);
}

/* ---------- CANVAS ---------- */
let c=document.getElementById("canvas"),ctx=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
let hearts=[];
for(let i=0;i<20;i++){
  hearts.push({x:Math.random()*c.width,y:Math.random()*c.height,s:Math.random()*15+5});
}
function anim(){
  ctx.clearRect(0,0,c.width,c.height);
  hearts.forEach(h=>{
    ctx.fillStyle="rgba(255,0,150,0.4)";
    ctx.beginPath();ctx.arc(h.x,h.y,h.s,0,Math.PI*2);ctx.fill();
    h.y-=0.3;if(h.y<0)h.y=c.height;
  });
  requestAnimationFrame(anim);
}
anim();

/* ---------- START ---------- */
type(startText,"üéâ Ready for a Surprise?");
startBtn.onclick=()=>{show("name");type(nameText,"Enter Your Name üí´");}

/* ---------- NAME ROUTE ---------- */
nameBtn.onclick=()=>{
  let n=username.value.toLowerCase().trim();
  if(n==="ariba"){
    show("aribaVerify");
    type(verifyText,"Verification required:");
  }
  else if(n==="habiba"){
    show("habiba1");
    type(habiba1Text,"What? New Year but it aint Happy for you üíÖ");
  }
  else{
    show("generic");
    genericMsg.innerHTML="";
  }
};

/* ---------- ARIBA VERIFY ---------- */
verifyBtn.onclick=()=>{
  if(verifyInput.value.toLowerCase().trim()==="aweee mera bacha"){
    show("aribaFlow");
    aribaIndex=0;
    type(aribaMsg,aribaMessages[0]);
  }else{
    show("generic");
    type(genericMsg,"u aint my didi gtfo üñï");
  }
};

/* ---------- ARIBA FLOW ---------- */
let aribaMessages=[
  "Didi? üíñ","Is it actually you? ü•π","I really love you ‚ù§Ô∏è‚Äçü©π",
  "Happy New Year Didi üéÜ"
];
let aribaIndex=0;
aribaNext.onclick=()=>{
  aribaIndex++;
  if(aribaIndex<aribaMessages.length){
    type(aribaMsg,aribaMessages[aribaIndex]);
  }
};

/* ---------- HABIBA ---------- */
habiba1Btn.onclick=()=>{
  show("habiba2");
  type(habiba2Text,"wwwhhhaaaaaaaaaaat? Why u still heeeeeeeerreeeee? I alr said no Happy New years for you üíÖ");
};
let tpCount=0;
const spots=[
  {top:"10px",left:"10px"},
  {bottom:"10px",right:"10px"},
  {top:"10px",right:"10px"}
];
habibaTpBtn.onclick=()=>{
  if(tpCount<3){
    Object.assign(habibaTpBtn.style,spots[tpCount]);
    tpCount++;
  }else{
    show("habibaGift");
  }
};

/* ---------- HABIBA GIFT ---------- */
giftIcon.onclick=()=>{
  ["ü´µ","ü§°"].forEach((e,i)=>{
    let d=document.createElement("div");
    d.className="emoji";
    d.style.left=(50+i*60)+"%";
    d.style.top="50%";
    d.innerText=e;
    document.body.appendChild(d);
  });
};

/* ---------- GENERIC ---------- */
giftIconGen.onclick=()=>{
  type(genericMsg,"Happy New Year üéÜ‚ú®");
};
</script>

</body>
</html>
