<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>New Year Surprise üéÅ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    background: #0c0c0c;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    text-align: center;
  }

  .screen {
    display: none;
    width: 90%;
    max-width: 600px;
  }

  .active {
    display: block;
  }

  input, button {
    padding: 12px;
    font-size: 16px;
    margin-top: 15px;
    border-radius: 8px;
    border: none;
  }

  button {
    cursor: pointer;
  }

  #nextBtn {
    position: relative;
  }

  .gift {
    font-size: 80px;
    cursor: pointer;
  }

  .emoji {
    position: absolute;
    font-size: 60px;
    animation: flyUp 1s ease-out forwards;
  }

  @keyframes flyUp {
    from { transform: translateY(0); opacity: 0; }
    to { transform: translateY(-120px); opacity: 1; }
  }
</style>
</head>

<body>

<div id="screen1" class="screen active">
  <h2 id="s1text"></h2>
  <button onclick="goToName()">Start</button>
</div>

<div id="screen2" class="screen">
  <h2 id="nameText"></h2>
  <input id="nameInput" placeholder="Type name here">
  <br>
  <button onclick="handleName()">Next</button>
</div>

<div id="screen3" class="screen">
  <h2 id="verifyText"></h2>
  <input id="verifyInput">
  <br>
  <button onclick="checkVerification()">Verify</button>
</div>

<div id="screen4" class="screen">
  <h2 id="flowText"></h2>
  <button id="nextBtn" onclick="nextFlow()">Next</button>
</div>

<div id="screenGift" class="screen">
  <div class="gift" onclick="openGift()">üéÅ</div>
</div>

<script>
let flow = "";
let step = 0;
let habibaTpCount = 0;

const aribaMessages = [
  "Didi?",
  "Oh hiii didiii üò≠",
  "I made this code special‚Ä¶ baaki sab ka isse different hai, but aapas mein same hai üíó",
  "I really miss you ü•∫",
  "The head scratch üòå",
  "The tea spill üíÖ",
  "Aapka vo waala message really made me throw my phone ü•π",
  "You kinda understood me like no one ever did üòå",
  "I felt comfortable around you like I never did around anyone else üíñ",
  "‚ù§Ô∏è‚Äçü©π Happy New Year Didi üéâ"
];

const habibaMessages = [
  "What? New Year but it ain‚Äôt happy for you üíÖ",
  "WWWWHHHAAAAAAT? Why you still hereeeee?"
];

function typeWriter(el, text, i = 0) {
  el.innerHTML = "";
  let interval = setInterval(() => {
    el.innerHTML += text.charAt(i);
    i++;
    if (i >= text.length) clearInterval(interval);
  }, 40);
}

typeWriter(document.getElementById("s1text"), "Tap Start");

function goToName() {
  show("screen2");
  typeWriter(document.getElementById("nameText"), "Type your name");
}

function handleName() {
  const name = document.getElementById("nameInput").value.toLowerCase();
  if (name === "ariba") {
    flow = "ariba";
    show("screen3");
    typeWriter(document.getElementById("verifyText"), "Verification required:");
  } 
  else if (name === "habiba") {
    flow = "habiba";
    step = 0;
    show("screen4");
    typeWriter(document.getElementById("flowText"), habibaMessages[0]);
  } 
  else {
    flow = "general";
    step = 0;
    show("screen4");
    typeWriter(document.getElementById("flowText"), "Happy New Year üéâ");
  }
}

function checkVerification() {
  const val = document.getElementById("verifyInput").value;
  if (val === "aweee mera bacha") {
    step = 0;
    show("screen4");
    typeWriter(document.getElementById("flowText"), aribaMessages[0]);
  } else {
    show("screen4");
    typeWriter(document.getElementById("flowText"), "u aint my didi gtfo üñï");
  }
}

function nextFlow() {
  if (flow === "ariba") {
    step++;
    if (step < aribaMessages.length) {
      typeWriter(document.getElementById("flowText"), aribaMessages[step]);
    }
  }

  if (flow === "habiba") {
    habibaTpCount++;
    const btn = document.getElementById("nextBtn");

    if (habibaTpCount === 1) {
      btn.style.position = "absolute";
      btn.style.top = "10px";
      btn.style.left = "10px";
    } 
    else if (habibaTpCount === 2) {
      btn.style.top = "auto";
      btn.style.left = "auto";
      btn.style.bottom = "10px";
      btn.style.right = "10px";
    } 
    else if (habibaTpCount === 3) {
      btn.style.bottom = "auto";
      btn.style.right = "auto";
      btn.style.top = "10px";
      btn.style.right = "10px";
    } 
    else {
      show("screenGift");
    }
  }

  if (flow === "general") {
    show("screenGift");
  }
}

function openGift() {
  const giftScreen = document.getElementById("screenGift");
  const e1 = document.createElement("div");
  const e2 = document.createElement("div");

  e1.className = "emoji";
  e2.className = "emoji";

  e1.innerHTML = "ü´µü§°";
  e2.innerHTML = "üéâ";

  e1.style.left = "40%";
  e2.style.left = "55%";

  giftScreen.appendChild(e1);
  giftScreen.appendChild(e2);
}

function show(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
</script>

</body>
</html>
